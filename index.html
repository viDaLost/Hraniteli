<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–•—Ä–∞–Ω–∏—Ç–µ–ª—å –ò—Å—Ç–æ—Ä–∏–π</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div class="app">
    <div class="viewport" id="viewport">

      <!-- Loading -->
      <section id="screen-loading" class="screen center" data-route="loading">
        <div class="spinner" aria-hidden="true"></div>
        <h1 class="big">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</h1>
        <p class="muted">–ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ</p>
      </section>

      <!-- Onboarding -->
      <section id="screen-onboarding" class="screen hidden" data-route="onboarding">
        <img class="mascot-img" src="assets/mascot_onboarding.png" alt="">
        <h1>–ü—Ä–∏–≤–µ—Ç! –Ø –•—Ä–∞–Ω–∏—Ç–µ–ª—å –ò—Å—Ç–æ—Ä–∏–π</h1>
        <p class="muted">
          –Ø —Ç–≤–æ–π –ø—Ä–æ–≤–æ–¥–Ω–∏–∫ –∏ –ø–æ–º–æ—â–Ω–∏–∫ –≤ –∏–∑—É—á–µ–Ω–∏–∏ —Å–≤—è—â–µ–Ω–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è.
          –î–ª—è –Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è: —É–∫–∞–∂–∏ —Å–≤–æ—ë –Ω–∞—Å—Ç–æ—è—â–µ–µ –∏–º—è –∏ –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è.
        </p>

        <div class="card">
          <label>–ò–º—è</label>
          <input id="inp-name" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–∏—à–∞" autocomplete="name" />
          <label>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
          <input id="inp-dob" type="date" />
          <button id="btn-confirm" class="btn primary" disabled>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
          <div id="onboarding-error" class="error"></div>
        </div>
      </section>

      <!-- Hello -->
      <section id="screen-hello" class="screen hidden" data-route="hello">
        <img class="mascot-img" src="assets/mascot_hello.png" alt="">
        <h1 id="hello-title">–û—Ç–ª–∏—á–Ω–æ, —Ä–∞–¥ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è!</h1>
        <p class="muted">–ê —Ç–µ–ø–µ—Ä—å –¥–∞–≤–∞–π –æ–∫—É–Ω—ë–º—Å—è –≤ –º–∏—Ä –∑–Ω–∞–Ω–∏–π.</p>
        <button id="btn-forward" class="btn primary">–í–ø–µ—Ä—ë–¥</button>
      </section>

      <!-- Main menu -->
      <section id="screen-menu" class="screen hidden" data-route="menu">
        <img class="mascot-img" src="assets/mascot_menu.png" alt="">
        <h1>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</h1>

        <div class="menu-grid">
          <button class="btn tile" id="btn-games">–ë–∏–±–ª–µ–π—Å–∫–∏–µ –∏–≥—Ä—ã</button>
          <button class="btn tile" id="btn-homework">–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</button>
          <button class="btn tile" id="btn-profile">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</button>
          <button class="btn tile admin hidden" id="btn-admin">–ê–¥–º–∏–Ω</button>
        </div>
      </section>

      <!-- Games menu -->
      <section id="screen-games" class="screen hidden" data-route="games">
        <img class="mascot-img" src="assets/mascot_games.png" alt="">
        <h1>–ë–∏–±–ª–µ–π—Å–∫–∏–µ –∏–≥—Ä—ã</h1>
        <div class="menu-grid">
          <button class="btn tile" data-nav="match">–ù–∞–π–¥–∏ –ø–∞—Ä—É</button>
          <button class="btn tile" data-nav="word">–ù–∞–π–¥–∏ —Å–ª–æ–≤–æ</button>
          <button class="btn" id="btn-games-back">‚Üê –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
        </div>
      </section>

      <!-- Match game -->
      <section id="screen-match" class="screen hidden" data-route="match">
        <img class="mascot-img" src="assets/mascot_match.png" alt="">
        <h1>–ü–æ–º–æ–≥–∏ –ù–æ—é –Ω–∞–π—Ç–∏ –ø–∞—Ä—É</h1>
        <p class="muted">–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –Ω—É–∂–Ω–∞ –ø–∞—Ä–∞ üôÇ</p>

        <div id="match-pick" class="card">
          <h2>–í—ã–±–æ—Ä –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è</h2>
          <div class="menu-grid">
            <button class="btn tile" data-match-size="4">4 √ó 4</button>
            <button class="btn tile" data-match-size="6">6 √ó 6</button>
            <button class="btn tile" data-match-size="8">8 √ó 8</button>
            <button class="btn" data-back>‚Üê –ù–∞–∑–∞–¥</button>
            <button class="btn" data-nav="menu">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
          </div>
        </div>

        <div id="match-game" class="hidden">
          <div class="top-actions">
            <button class="btn" id="match-btn-back">‚Üê –í—ã–±–æ—Ä –ø–æ–ª—è</button>
            <button class="btn" data-nav="menu">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
          </div>
          <div id="match-board" class="board"></div>
        </div>

        <div id="match-win" class="modal hidden">
          <div class="modal-card center">
            <img class="mascot-img" src="assets/mascot_win.png" alt="">
            <h2>–ú–æ–ª–æ–¥–µ—Ü! –¢—ã –Ω–∞—à—ë–ª –≤—Å–µ–º –ø–∞—Ä—É!</h2>
            <button class="btn primary" id="match-btn-win-close">–ó–∞–∫—Ä—ã—Ç—å</button>
          </div>
        </div>
      </section>

      <!-- Word game -->
      <section id="screen-word" class="screen hidden" data-route="word">
        <img class="mascot-img" src="assets/mascot_word.png" alt="">
        <h1>–ù–∞–π–¥–∏ —Å–ª–æ–≤–æ</h1>
        <p class="muted">–í—ã–±–µ—Ä–∏ —Å–ª–æ–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –≤ –ø—Ä–æ–ø—É—Å–∫.</p>

        <div class="card">
          <div id="word-verse" class="verse"></div>
          <div id="word-ref" class="muted word-ref"></div>
        </div>

        <div id="word-options" class="menu-grid"></div>

        <div class="menu-grid">
          <button class="btn" id="word-btn-next">–°–ª–µ–¥—É—é—â–µ–µ</button>
          <button class="btn" data-back>‚Üê –ù–∞–∑–∞–¥</button>
          <button class="btn" data-nav="menu">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
        </div>
      </section>

      <!-- Admin screen -->
      <section id="screen-admin" class="screen hidden" data-route="admin">
        <img class="mascot-img" src="assets/mascot_admin.png" alt="">
        <h1>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>

        <div class="card">
          <h2>–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ (–¥–ª—è –≤—Å–µ—Ö)</h2>
          <textarea id="admin-homework" rows="4" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."></textarea>
          <button id="btn-admin-save-homework" class="btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          <div id="admin-homework-msg" class="muted"></div>
        </div>

        <div class="card">
          <h2>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>
          <div id="admin-users" class="admin-users"></div>
        </div>

        <button class="btn" id="btn-admin-back">‚Üê –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
      </section>

    </div>

    <!-- Homework modal -->
    <div id="modal-homework" class="modal hidden">
      <div class="modal-card">
        <img class="mascot-img" src="assets/mascot_homework.png" alt="">
        <h2>–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</h2>
        <p id="homework-text" class="muted"></p>
        <button class="btn" id="btn-homework-close">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>

    <!-- Profile modal -->
    <div id="modal-profile" class="modal hidden">
      <div class="modal-card">
        <img class="mascot-img" src="assets/mascot_profile.png" alt="">
        <h2 id="profile-name" class="center big"></h2>
        <div id="profile-dob" class="center muted"></div>

        <div class="stars">
          <div class="star-row">
            <span>–ó–∞ –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</span>
            <span class="badge blue"><span id="star-bible">0</span> ‚òÖ</span>
          </div>
          <div class="star-row">
            <span>–ó–∞ –∞–∫—Ç–∏–≤–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ</span>
            <span class="badge gold"><span id="star-truth">0</span> ‚òÖ</span>
          </div>
          <div class="star-row">
            <span>–ó–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</span>
            <span class="badge green"><span id="star-behavior">0</span> ‚òÖ</span>
          </div>
        </div>

        <button class="btn" id="btn-profile-close">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>

  </div>

  <script src="games/match.js" defer></script>
  <script src="games/word.js" defer></script>
  <script src="app.js" defer></script>
</body>
</html>
